import { Callout, Cards, Tabs, Steps, FileTree } from 'nextra/components'

# GameAnalytics UE5 통합 가이드

언리얼 엔진 5에서 GameAnalytics를 구현하는 완벽한 가이드

<Callout type="info" emoji="🎮">
  GameAnalytics는 무료로 사용 가능한 강력한 게임 분석 플랫폼입니다.
  UE5와의 통합은 약 30분이면 완료할 수 있습니다.
</Callout>

## 사전 준비사항

<Callout type="warning">
  **API 참고사항**: GameAnalytics UE5 SDK의 모든 메서드는 소문자로 시작합니다.
  예: `initialize()`, `addProgressionEvent()`, `setCustomDimension01()`
</Callout>

<Steps>
### GameAnalytics 계정 생성
[GameAnalytics.com](https://gameanalytics.com)에서 무료 계정 생성

### 게임 등록
대시보드에서 새 게임 추가 및 Game Key, Secret Key 획득

### UE5 프로젝트 준비
언리얼 엔진 5.0 이상 버전 확인
</Steps>

## SDK 설치

### 방법 1: Marketplace 설치 (권장)

<Steps>
### Epic Games Launcher 실행
언리얼 엔진 마켓플레이스 접속

### GameAnalytics SDK 검색
"GameAnalytics SDK" 검색 및 프로젝트에 추가

### 프로젝트 재시작
플러그인 활성화를 위해 프로젝트 재시작
</Steps>

### 방법 2: 수동 설치

<FileTree>
  <FileTree.Folder name="YourProject" defaultOpen>
    <FileTree.Folder name="Plugins" defaultOpen>
      <FileTree.Folder name="GameAnalytics">
        <FileTree.File name="GameAnalytics.uplugin" />
        <FileTree.Folder name="Source">
          <FileTree.File name="GameAnalytics.cpp" />
        </FileTree.Folder>
      </FileTree.Folder>
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

## 초기 설정

### 1. 플러그인 활성화

```cpp
// YourProject.Build.cs
public class YourProject : ModuleRules
{
    public YourProject(ReadOnlyTargetRules Target) : base(Target)
    {
        PublicDependencyModuleNames.AddRange(new string[] { 
            "Core", 
            "CoreUObject", 
            "Engine", 
            "GameAnalytics"  // GameAnalytics 모듈 추가
        });
    }
}
```

### 2. GameAnalytics 초기화

<Tabs items={['C++ 구현', 'Blueprint 구현']}>
  <Tabs.Tab>
    ```cpp
    // GameInstance 또는 GameMode에서 초기화
    #include "GameAnalytics.h"
    
    void UMyGameInstance::Init()
    {
        Super::Init();
        
        // GameAnalytics 초기화
        UGameAnalytics::initialize(
            "YOUR_GAME_KEY",
            "YOUR_SECRET_KEY"
        );
        
        // 디버그 로그 활성화 (개발 중에만)
        #if WITH_EDITOR
            UGameAnalytics::setEnabledInfoLog(true);
            UGameAnalytics::setEnabledVerboseLog(true);
        #endif
        
        // 세션 추적은 자동으로 처리됨 (기본 활성화)
        // 필요시 수동 세션 관리: UGameAnalytics::endSession(), UGameAnalytics::newSession()
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **1. GameInstance Blueprint 열기**
    
    **2. Event Init 노드에서:**
    - `Initialize GameAnalytics` 노드 추가
    - Game Key와 Secret Key 입력
    - Build Version 설정 (예: "1.0.0")
    
    **3. 세션 처리:**
    - 세션은 자동으로 추적됨 (게임 시작/종료 시)
    - 수동 제어가 필요한 경우: `End Session`, `New Session` 노드 사용
  </Tabs.Tab>
</Tabs>

## 세션 관리

<Callout type="info">
  **자동 세션 추적**: GameAnalytics는 기본적으로 세션을 자동 관리합니다.
  - 게임 시작 시 새 세션 시작
  - 게임 종료/백그라운드 진입 시 세션 종료
  - 백그라운드에서 복귀 시 새 세션 생성 (기본 10초 이상 비활성 시)
</Callout>

### 수동 세션 관리 (특별한 경우)

```cpp
// 유저 전환 시
void OnUserSwitch()
{
    UGameAnalytics::endSession();  // 현재 세션 종료
    // 유저 정보 업데이트
    UGameAnalytics::newSession();   // 새 세션 시작
}

// 멀티플레이어 매치 시작/종료
void OnMatchStart()
{
    UGameAnalytics::newSession();   // 매치별 세션 구분
}
```

## 이벤트 구현

<Callout type="info">
  **GameAnalytics는 8가지 주요 이벤트 타입을 제공합니다:**
  - **Progression**: 플레이어 진행도 추적
  - **Business**: 실제 구매 및 IAP 추적
  - **Resource**: 가상 화폐 흐름 추적
  - **Design**: 커스텀 게임플레이 이벤트
  - **Error**: 에러 및 예외 추적
  - **Ad**: 광고 노출 및 수익 추적
  - **Health**: 앱 상태 모니터링 (자동)
  - **Impression**: 노출 추적 (자동)
</Callout>

### 이벤트 트래킹 베스트 프랙티스

1. **일관된 네이밍 규칙 사용**: `Category:Action:Label` 형식 권장
2. **과도한 추적 방지**: 특히 Resource 이벤트는 주요 시점에만 호출
3. **계층 구조 활용**: 3단계 계층으로 이벤트 구성 (최대 5단계)
4. **커스텀 필드 활용**: Raw Export용 추가 데이터 전송 가능

### 📊 진행도 이벤트 (Progression Events)

플레이어의 게임 진행 상황을 추적하는 핵심 이벤트입니다. 3단계 계층 구조(progression01, 02, 03)를 지원하며, 점수를 선택적으로 포함할 수 있습니다.

<Tabs items={['C++', 'Blueprint']}>
  <Tabs.Tab>
    ```cpp
    // 레벨 시작
    void AMyGameMode::OnLevelStart(int32 LevelNumber)
    {
        FString Progression01 = FString::Printf(TEXT("World_%02d"), CurrentWorld);
        FString Progression02 = FString::Printf(TEXT("Level_%02d"), LevelNumber);
        
        UGameAnalytics::addProgressionEvent(
            EGAProgressionStatus::Start,
            Progression01,
            Progression02,
            ""  // Progression03 (선택사항)
        );
    }
    
    // 레벨 완료
    void AMyGameMode::OnLevelComplete(int32 Score)
    {
        FString Progression01 = FString::Printf(TEXT("World_%02d"), CurrentWorld);
        FString Progression02 = FString::Printf(TEXT("Level_%02d"), CurrentLevel);
        
        // 점수와 함께 전송
        UGameAnalytics::addProgressionEvent(
            EGAProgressionStatus::Complete,
            Progression01,
            Progression02,
            "",
            Score  // 점수 포함
        );
    }
    
    // 레벨 실패
    void AMyGameMode::OnLevelFail()
    {
        UGameAnalytics::addProgressionEvent(
            EGAProgressionStatus::Fail,
            FString::Printf(TEXT("World_%02d"), CurrentWorld),
            FString::Printf(TEXT("Level_%02d"), CurrentLevel),
            ""
        );
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **레벨 시작 이벤트:**
    1. `Add Progression Event` 노드 추가
    2. Status = `Start`
    3. Progression01 = "World_01"
    4. Progression02 = "Level_05"
    
    **레벨 완료 이벤트:**
    1. `Add Progression Event` 노드 추가
    2. Status = `Complete`
    3. Score = 플레이어 점수 변수 연결 (선택사항)
  </Tabs.Tab>
</Tabs>

### 💰 비즈니스 이벤트 (Business Events)

실제 돈이 관련된 모든 거래를 추적합니다. 통화는 ISO 4217 형식을 사용하고, 금액은 최소 단위(센트)로 전송해야 합니다.

<Callout type="warning">
  **중요**: 금액은 센트 단위로 변환하여 전송 (예: $1.99 = 199)
  통화 코드는 반드시 ISO 4217 형식 사용 (USD, EUR, KRW 등)
</Callout>

<Tabs items={['C++ 구현', 'Blueprint 구현']}>
  <Tabs.Tab>
    ```cpp
    // IAP 구매 완료
    void UMyStoreManager::OnPurchaseComplete(const FString& ProductId, float Price)
    {
        UGameAnalytics::addBusinessEvent(
            "USD",           // 통화
            Price * 100,     // 센트 단위로 변환
            "IAP",           // 아이템 타입
            ProductId,       // 아이템 ID
            "Shop",          // 카트 타입
            "",              // 영수증 (선택사항)
            ""               // 서명 (선택사항)
        );
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **블루프린트 구현:**
    
    1. **Add Business Event** 노드 추가
    2. **Currency**: "USD" (또는 해당 통화 코드)
    3. **Amount**: 199 (센트 단위, $1.99의 경우)
    4. **Item Type**: "IAP" (아이템 타입)
    5. **Item ID**: "com.game.product_id" (상품 ID)
    6. **Cart Type**: "Shop" (카트 타입)
    
    **영수증 검증 (선택사항):**
    - Receipt 필드에 영수증 데이터
    - Signature 필드에 서명 데이터
  </Tabs.Tab>
</Tabs>

### 💎 리소스 이벤트 (Resource Events)

게임 내 가상 경제 흐름을 추적합니다. Source(획득)와 Sink(사용)로 구분하여 재화의 흐름을 모니터링합니다.

<Callout type="warning">
  **성능 주의**: Resource 이벤트를 너무 자주 호출하지 마세요!
  주요 거래 시점에만 호출하여 성능 영향을 최소화하세요.
</Callout>

<Tabs items={['화폐 획득', '화폐 사용', '아이템 획득', 'Blueprint']}>
  <Tabs.Tab>
    ```cpp
    // 재화 획득
    void UMyEconomyManager::AddCurrency(const FString& Currency, int32 Amount, const FString& Source)
    {
        UGameAnalytics::addResourceEvent(
            EGAResourceFlowType::Source,  // 획득
            Currency,                      // "Gems", "Gold" 등
            Amount,
            "Reward",                      // 아이템 타입
            Source                         // "LevelComplete", "DailyBonus" 등
        );
        
        // 실제 재화 추가 로직
        PlayerCurrency[Currency] += Amount;
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    ```cpp
    // 재화 사용
    void UMyEconomyManager::SpendCurrency(const FString& Currency, int32 Amount, const FString& Item)
    {
        UGameAnalytics::addResourceEvent(
            EGAResourceFlowType::Sink,    // 사용
            Currency,
            Amount,
            "Shop",                        // 아이템 타입
            Item                           // 구매한 아이템
        );
        
        // 실제 재화 차감 로직
        PlayerCurrency[Currency] -= Amount;
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    ```cpp
    // 아이템 획득
    void UMyInventoryManager::AddItem(const FString& ItemId, int32 Quantity, const FString& Source)
    {
        UGameAnalytics::addResourceEvent(
            EGAResourceFlowType::Source,
            "Items",
            Quantity,
            ItemId,
            Source
        );
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **블루프린트 구현:**
    
    **재화 획득:**
    1. **Add Resource Event** 노드 추가
    2. **Flow Type**: `Source` (획득)
    3. **Currency**: "Gems" 또는 "Gold" 등
    4. **Amount**: 획득 수량
    5. **Item Type**: "Reward" (아이템 타입)
    6. **Item ID**: "LevelComplete" 또는 "DailyBonus" 등
    
    **재화 사용:**
    1. **Add Resource Event** 노드 추가
    2. **Flow Type**: `Sink` (사용)
    3. **Currency**: "Gems" 또는 "Gold" 등
    4. **Amount**: 사용 수량
    5. **Item Type**: "Shop" (아이템 타입)
    6. **Item ID**: 구매한 아이템 이름
    
    **아이템 획득:**
    1. **Add Resource Event** 노드 추가
    2. **Flow Type**: `Source` (획득)
    3. **Currency**: "Items"
    4. **Amount**: 아이템 수량
    5. **Item Type**: 아이템 ID
    6. **Item ID**: 획득 경로 ("Quest", "Shop", "Drop" 등)
  </Tabs.Tab>
</Tabs>

### 🎨 디자인 이벤트 (Design Events)

게임플레이의 모든 커스텀 이벤트를 추적합니다. 최대 5단계 계층 구조를 지원하며, 선택적으로 숫자 값을 포함할 수 있습니다.

<Callout type="info">
  **계층 구조 예시**:
  - `Kill:Enemy:Zombie` - 좀비 처치
  - `PowerUp:Collected:SpeedBoost` - 스피드 부스트 획득
  - `UI:MainMenu:SettingsOpened` - 설정 메뉴 열기
  
  콜론(:)으로 구분하여 최대 5단계까지 구성 가능
</Callout>

<Tabs items={['C++ 구현', 'Blueprint 구현']}>
  <Tabs.Tab>
    ```cpp
    // 커스텀 이벤트 예제
    void UMyGameAnalytics::TrackCustomEvent(const FString& EventName, float Value)
    {
        // 단순 이벤트
        UGameAnalytics::addDesignEvent(EventName);
        
        // 값이 있는 이벤트
        UGameAnalytics::addDesignEvent(EventName, Value);
        
        // 계층적 이벤트
        FString HierarchicalEvent = FString::Printf(
            TEXT("Kill:Enemy:%s"), 
            *EnemyType
        );
        UGameAnalytics::addDesignEvent(HierarchicalEvent, DamageDealt);
    }
    
    // 실제 사용 예제
    void AMyCharacter::OnEnemyKilled(AEnemy* Enemy)
    {
        FString EventName = FString::Printf(
            TEXT("Combat:Kill:%s"), 
            *Enemy->GetEnemyType()
        );
        
        UGameAnalytics::addDesignEvent(
            EventName, 
            Enemy->GetExpReward()
        );
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **블루프린트 구현:**
    
    **단순 이벤트:**
    1. **Add Design Event** 노드 추가
    2. **Event ID**: "UI:MainMenu:PlayButton" (이벤트 이름)
    
    **값이 있는 이벤트:**
    1. **Add Design Event** 노드 추가
    2. **Event ID**: "Kill:Enemy:Zombie"
    3. **Value**: 100 (경험치, 점수 등)
    
    **계층적 이벤트 예시:**
    - `"Combat:Kill:Boss"` - 보스 처치
    - `"PowerUp:Use:Shield"` - 쉴드 사용
    - `"Level:Complete:World1:Stage3"` - 레벨 완료
    - `"UI:Shop:Purchase:Sword"` - 상점 구매
    
    **팁:**
    - 콜론(:)으로 구분하여 계층 구조 생성
    - 최대 5단계까지 가능
    - 일관된 네이밍 규칙 사용
  </Tabs.Tab>
</Tabs>

### ❌ 에러 이벤트 (Error Events)

게임 로직 에러와 예외를 추적합니다. 5가지 심각도 레벨을 제공하며, 디버깅과 품질 모니터링에 필수적입니다.

**심각도 레벨**:
- `Debug`: 개발 중 디버그 정보
- `Info`: 일반 정보성 메시지
- `Warning`: 주의가 필요한 상황
- `Error`: 에러 발생 (복구 가능)
- `Critical`: 심각한 에러 (크래시 위험)

<Tabs items={['C++ 구현', 'Blueprint 구현']}>
  <Tabs.Tab>
    ```cpp
    // 에러 로깅
    void UMyErrorHandler::LogError(const FString& Message, EGAErrorSeverity Severity)
    {
        UGameAnalytics::addErrorEvent(Severity, Message);
    }
    
    // 사용 예제
    void UMyNetworkManager::OnConnectionFailed(const FString& Reason)
    {
        UGameAnalytics::addErrorEvent(
            EGAErrorSeverity::Error,
            FString::Printf(TEXT("Network:ConnectionFailed:%s"), *Reason)
        );
    }
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **블루프린트 구현:**
    
    1. **Add Error Event** 노드 추가
    2. **Severity** 선택:
       - `Debug` - 개발 중 디버깅
       - `Info` - 정보성 메시지
       - `Warning` - 경고
       - `Error` - 일반 에러
       - `Critical` - 심각한 에러
    3. **Message**: 에러 메시지 입력
    
    **예시 메시지:**
    - `"Network:Timeout:Server1"` - 네트워크 타임아웃
    - `"Save:Failed:DiskFull"` - 저장 실패
    - `"Load:AssetMissing:Character01"` - 에셋 로드 실패
    - `"Physics:InvalidState:Ragdoll"` - 물리 에러
    
    **Blueprint 사용 팁:**
    - Try/Catch 대신 Is Valid 체크 사용
    - 에러 발생 지점에 즉시 로깅
    - 의미 있는 에러 메시지 작성
    - 카테고리:세부사항:원인 형식 권장
  </Tabs.Tab>
</Tabs>

### 📺 광고 이벤트 (Ad Events)

광고 노출, 클릭, 실패 등을 추적합니다. 광고 수익화 최적화에 필수적인 데이터를 수집합니다.

**광고 액션 타입**:
- `Show`: 광고 표시
- `Clicked`: 광고 클릭
- `RewardReceived`: 보상형 광고 보상 수령
- `Request`: 광고 요청
- `Loaded`: 광고 로드 완료
- `FailedShow`: 광고 표시 실패

**광고 타입**:
- `Video`: 일반 비디오 광고
- `RewardedVideo`: 보상형 비디오
- `Playable`: 플레이어블 광고
- `Interstitial`: 전면 광고
- `OfferWall`: 오퍼월
- `Banner`: 배너 광고

<Tabs items={['C++', 'Blueprint']}>
  <Tabs.Tab>
    ```cpp
// 광고 표시
void UMyAdManager::ShowRewardedAd()
{
    UGameAnalytics::addAdEvent(
        EGAAdAction::Show,
        EGAAdType::RewardedVideo,
        "admob",           // SDK 이름
        "main_menu",       // 광고 위치
        EGAAdError::Unknown,
        0                  // 광고 시청 시간 (선택)
    );
}

// 광고 클릭
void UMyAdManager::OnAdClicked()
{
    UGameAnalytics::addAdEvent(
        EGAAdAction::Clicked,
        EGAAdType::RewardedVideo,
        "admob",
        "main_menu"
    );
}

// 보상 수령
void UMyAdManager::OnRewardReceived(int32 RewardAmount)
{
    UGameAnalytics::addAdEvent(
        EGAAdAction::RewardReceived,
        EGAAdType::RewardedVideo,
        "admob",
        "level_complete",
        EGAAdError::Unknown,
        RewardAmount  // 보상 금액
    );
}

// 광고 로드 실패
void UMyAdManager::OnAdFailedToLoad(const FString& Error)
{
    UGameAnalytics::addAdEvent(
        EGAAdAction::FailedShow,
        EGAAdType::RewardedVideo,
        "admob",
        "main_menu",
        EGAAdError::NoFill  // 또는 다른 에러 타입
    );
}

// 전면 광고 예제
void UMyAdManager::ShowInterstitialAd()
{
    // 광고 요청
    UGameAnalytics::addAdEvent(
        EGAAdAction::Request,
        EGAAdType::Interstitial,
        "unity_ads",
        "level_complete"
    );
    
    // 광고 로드 성공 후 표시
    UGameAnalytics::addAdEvent(
        EGAAdAction::Show,
        EGAAdType::Interstitial,
        "unity_ads",
        "level_complete"
    );
}
```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **블루프린트 구현:**
    
    **보상형 비디오 광고:**
    1. **Add Ad Event** 노드 추가
    2. **Action**: `Show` (광고 표시 시)
    3. **Ad Type**: `RewardedVideo`
    4. **Ad SDK Name**: "admob" 또는 "unity_ads" 등
    5. **Ad Placement**: "main_menu", "level_complete" 등 광고 위치
    6. **Error Type**: `Unknown` (정상인 경우)
    7. **Duration**: 광고 시청 시간 (초 단위, 선택사항)
    
    **광고 클릭 추적:**
    1. **Add Ad Event** 노드 추가
    2. **Action**: `Clicked`
    3. **Ad Type**: 해당 광고 타입
    4. **Ad SDK Name**: 광고 SDK 이름
    5. **Ad Placement**: 광고 위치
    
    **보상 수령:**
    1. **Add Ad Event** 노드 추가
    2. **Action**: `RewardReceived`
    3. **Ad Type**: `RewardedVideo`
    4. **Ad SDK Name**: 광고 SDK 이름
    5. **Ad Placement**: 광고 위치
    6. **Duration**: 보상 금액 (코인 수 등)
    
    **광고 실패 처리:**
    1. **Add Ad Event** 노드 추가
    2. **Action**: `FailedShow`
    3. **Ad Type**: 해당 광고 타입
    4. **Ad SDK Name**: 광고 SDK 이름
    5. **Ad Placement**: 광고 위치
    6. **Error Type**: 
       - `NoFill` - 광고 없음
       - `NoInternet` - 인터넷 연결 없음
       - `InvalidRequest` - 잘못된 요청
       - `UnableToPrecache` - 프리캐시 실패
       - `InternalError` - 내부 오류
    
    **전면 광고 플로우:**
    ```
    [게임 플로우]
    ↓
    [레벨 완료] → [Add Ad Event: Request]
    ↓
    [광고 로드 성공] → [Add Ad Event: Loaded]
    ↓
    [광고 표시] → [Add Ad Event: Show]
    ↓
    [선택사항: 클릭] → [Add Ad Event: Clicked]
    ```
    
    **배너 광고 예시:**
    1. **Add Ad Event** 노드 추가
    2. **Action**: `Show`
    3. **Ad Type**: `Banner`
    4. **Ad SDK Name**: "admob"
    5. **Ad Placement**: "bottom_banner" 또는 "top_banner"
    
    **팁:**
    - 광고 SDK별로 일관된 이름 사용
    - 광고 위치는 화면상 위치나 게임 상황 명시
    - 에러 타입을 정확히 기록하여 문제 해결에 활용
    - 보상형 광고는 반드시 보상 수령 이벤트도 추적
  </Tabs.Tab>
</Tabs>

### 🔧 커스텀 필드 (Custom Fields)

Raw Export를 위한 추가 데이터를 전송할 수 있습니다. 모든 이벤트 타입에서 사용 가능합니다.

```cpp
// 커스텀 필드와 함께 이벤트 전송
TSharedRef<FJsonObject> CustomFields = MakeShareable(new FJsonObject());
CustomFields->SetNumberField(TEXT("player_level"), PlayerLevel);
CustomFields->SetStringField(TEXT("weapon_type"), TEXT("sword"));
CustomFields->SetBoolField(TEXT("is_premium"), bIsPremiumUser);

// 진행도 이벤트에 커스텀 필드 추가
UGameAnalytics::addProgressionEvent(
    EGAProgressionStatus::Complete,
    "World_01",
    "Level_05",
    "",
    1000,  // 점수
    CustomFields  // 커스텀 필드
);
```

<Callout type="info">
  **커스텀 필드 제한사항**:
  - 최대 50개의 커스텀 필드
  - 키 이름: 최대 64자
  - 문자열 값: 최대 256자
  - Raw Export 구독 시에만 활용 가능
</Callout>

## 사용자 속성 설정

### 사용자 정보 설정

```cpp
void UMyAnalytics::SetUserProperties()
{
    // 사용자 ID 설정 (초기화 전에 설정해야 함)
    UGameAnalytics::configureUserId("player_12345");
    
    // 사용자 속성 (선택사항)
    // 참고: 성별과 생년 설정은 현재 SDK에서 제한적 지원
    
    // 커스텀 차원 (최대 3개)
    UGameAnalytics::setCustomDimension01("Premium");  // 유저 타입
    UGameAnalytics::setCustomDimension02("Guild_A");  // 길드
    UGameAnalytics::setCustomDimension03("Server_1"); // 서버
}
```

## A/B 테스팅 설정

### Remote Config 사용

```cpp
void UMyGameManager::InitializeRemoteConfig()
{
    // 커스텀 차원 설정 (초기화 전에 호출)
    UGameAnalytics::configureAvailableCustomDimensions01(
        {"Standard", "Premium", "VIP"}
    );
    
    // Remote Config 값 가져오기
    FString ConfigValue = UGameAnalytics::getRemoteConfigsValueAsString(
        "difficulty_multiplier", 
        "1.0"  // 기본값
    );
    
    DifficultyMultiplier = FCString::Atof(*ConfigValue);
}

// Remote Config 준비 확인
void UMyGameManager::OnRemoteConfigsReady()
{
    if (UGameAnalytics::isRemoteConfigsReady())
    {
        // 설정값 적용
        ApplyRemoteConfigs();
    }
}
```

## 이벤트 제한사항 및 검증

### 파라미터 제한사항

| 파라미터 | 최대 길이 | 제한사항 |
|---------|----------|----------|
| **Event ID** | 64자 | 영문, 숫자, 언더스코어(_), 콜론(:) |
| **Progression** | 64자 | progression01, 02, 03 각각 |
| **Currency** | 64자 | 영문자만 |
| **Item Type** | 64자 | 영문, 숫자, 언더스코어 |
| **Item ID** | 64자 | 영문, 숫자, 언더스코어 |
| **Custom Dimension** | 32자 | 사전 정의된 값만 |
| **Error Message** | 8192자 | 모든 문자 허용 |

### 이벤트 빈도 제한

<Callout type="warning">
  **과도한 이벤트 호출 주의**:
  - Resource 이벤트: 초당 최대 10회
  - Design 이벤트: 초당 최대 100회
  - Error 이벤트: 초당 최대 10회
  - 전체 이벤트: 초당 최대 500회
  
  제한을 초과하면 이벤트가 드롭될 수 있습니다.
</Callout>

## 디버깅 및 검증

### 로그 레벨 설정

```cpp
#if WITH_EDITOR
    // 개발 중 디버그 로그 활성화
    UGameAnalytics::setEnabledInfoLog(true);
    UGameAnalytics::setEnabledVerboseLog(true);
    // 수동 세션 핸들링 (필요시)
    UGameAnalytics::setEnabledManualSessionHandling(false);
#else
    // 릴리즈 빌드에서는 로그 비활성화
    UGameAnalytics::setEnabledInfoLog(false);
    UGameAnalytics::setEnabledVerboseLog(false);
#endif
```

### 이벤트 검증 체크리스트

<Steps>
### SDK 초기화 확인
로그에서 "GameAnalytics SDK initialized" 메시지 확인

### 이벤트 전송 확인
로그에서 이벤트 전송 성공 메시지 확인

### 대시보드 확인
GameAnalytics 대시보드에서 실시간 데이터 확인

### 에러 처리
에러 로그 확인 및 처리
</Steps>

## 최적화 팁

<Callout type="info">
  **성능 최적화 권장사항:**
  
  ✅ 이벤트 배칭: 자동으로 처리됨
  ✅ 오프라인 지원: SDK가 자동으로 큐잉
  ✅ 세션 관리: 자동 세션 처리 사용
  ✅ 스레드 안전: 모든 API는 스레드 안전
</Callout>

## 일반적인 문제 해결

### 이벤트가 대시보드에 표시되지 않음

1. **Game Key/Secret Key 확인**
2. **SDK 초기화 확인**
3. **인터넷 연결 확인**
4. **빌드 버전 설정 확인**

### 크래시 발생

```cpp
// 안전한 초기화 패턴
// 참고: SDK는 자동으로 초기화 상태를 확인함
// 이벤트는 초기화 후에만 전송됨
UGameAnalytics::addProgressionEvent(...);
```

### 메모리 누수

- SDK는 자동으로 메모리 관리
- 수동으로 정리할 필요 없음

## 프로덕션 체크리스트

<Steps>
### 키 설정
- [ ] Production Game Key 설정
- [ ] Production Secret Key 설정

### 빌드 설정
- [ ] 빌드 버전 설정
- [ ] 디버그 로그 비활성화

### 이벤트 검증
- [ ] 모든 핵심 이벤트 구현
- [ ] 파라미터 검증
- [ ] 에러 핸들링

### 규정 준수
- [ ] GDPR 동의 구현
- [ ] 개인정보 제외 확인
</Steps>

## 공식 문서 및 리소스

### 📚 추가 학습 자료
- [GameAnalytics 공식 문서](https://docs.gameanalytics.com/integrations/sdk/unreal/)
- [이벤트 트래킹 상세 가이드](https://docs.gameanalytics.com/integrations/sdk/unreal/event-tracking/)
- [SDK 기능 문서](https://docs.gameanalytics.com/integrations/sdk/unreal/sdk-features/)
- [GitHub 저장소](https://github.com/GameAnalytics/GA-SDK-UNREAL)

### 주요 참고사항
- **C++ 프로젝트 필수**: Pure Blueprint 프로젝트는 지원하지 않음
- **플랫폼 지원**: Windows, Mac, iOS, Android, Linux
- **최소 엔진 버전**: UE 4.15+ (UE5 완벽 지원)
- **네트워크 요구사항**: HTTPS 아웃바운드 연결 필요

## 다음 단계

<Cards>
  <Cards.Card title="📊 대시보드 활용" href="/game-data-analysis/dashboard" arrow>
    GameAnalytics 대시보드 사용법
  </Cards.Card>
  <Cards.Card title="🔍 데이터 분석" href="/game-data-analysis/analysis" arrow>
    수집된 데이터 분석하기
  </Cards.Card>
  <Cards.Card title="⚡ 고급 기능" href="/game-data-analysis/advanced" arrow>
    코호트 분석, 퍼널 분석 등
  </Cards.Card>
</Cards>