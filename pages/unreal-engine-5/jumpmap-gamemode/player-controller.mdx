import { Callout, Steps, Tabs, Code } from 'nextra/components'

# í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ & í”Œë ˆì´ì–´ ìŠ¤í…Œì´íŠ¸

<Callout type="info" emoji="ğŸ®">
  í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì…ë ¥ì„ ì²˜ë¦¬í•˜ê³ , í”Œë ˆì´ì–´ ìŠ¤í…Œì´íŠ¸ëŠ” ê°œë³„ í”Œë ˆì´ì–´ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
  ì´ ë‘ ì‹œìŠ¤í…œì´ í•¨ê»˜ ì‘ë™í•˜ì—¬ í”Œë ˆì´ì–´ ê²½í—˜ì„ ë§Œë“­ë‹ˆë‹¤.
</Callout>

## ğŸ® Player Controller ìƒì„±

### ë¸”ë£¨í”„ë¦°íŠ¸ í´ë˜ìŠ¤ ìƒì„±

<Steps>

### Player Controller ìƒì†

1. Content Browser â†’ **Blueprint Class**
2. **Player Controller** ê²€ìƒ‰ ë° ì„ íƒ
3. ì´ë¦„: `BP_JumpMapPlayerController`
4. í´ë”: `Content/Blueprints/Player/`

### ê¸°ë³¸ ì„¤ì •

Class Defaultsì—ì„œ:
- **Show Mouse Cursor**: True (ë©”ë‰´ìš©)
- **Enable Click Events**: True
- **Enable Mouse Over Events**: True
- **Default Mouse Cursor**: Default

</Steps>

## ğŸ“± ì…ë ¥ ì‹œìŠ¤í…œ ì„¤ì •

### Enhanced Input ì„¤ì •

<Callout type="tip" emoji="ğŸ’¡">
  UE5ì˜ Enhanced Input Systemì„ ì‚¬ìš©í•˜ì—¬ ë” ìœ ì—°í•œ ì…ë ¥ ì²˜ë¦¬ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
</Callout>

<Steps>

### Input Actions ìƒì„±

`Content/Input/Actions/` í´ë”ì— ìƒì„±:

```
IA_Jump - ì í”„ ì•¡ì…˜
IA_Move - ì´ë™ ì•¡ì…˜  
IA_Look - ì¹´ë©”ë¼ íšŒì „
IA_Sprint - ë‹¬ë¦¬ê¸°
IA_Pause - ì¼ì‹œì •ì§€
IA_Restart - ì¬ì‹œì‘
```

### Input Mapping Context ìƒì„±

`Content/Input/` í´ë”ì— `IMC_JumpMap` ìƒì„±:

```
Jump - Space/Gamepad Face Button Bottom
Move - WASD/Left Stick
Look - Mouse/Right Stick
Sprint - Left Shift/Left Trigger
Pause - Escape/Start Button
Restart - R/Select Button
```

</Steps>

### ì…ë ¥ ì²˜ë¦¬ êµ¬í˜„

<Code language="blueprint">
Event BeginPlay
â”œâ”€â”€ Get Enhanced Input Subsystem
â”œâ”€â”€ Add Mapping Context (IMC_JumpMap)
â”œâ”€â”€ Setup HUD Widget
â””â”€â”€ Initialize Player Settings

Event: IA_Jump
â”œâ”€â”€ Branch (Can Player Jump?)
â”‚   â”œâ”€â”€ True: Character->Jump()
â”‚   â””â”€â”€ False: Play Denied Sound
â””â”€â”€ Update Jump Count

Event: IA_Pause
â”œâ”€â”€ Flip Flop
â”‚   â”œâ”€â”€ A: Pause Game
â”‚   â”‚   â”œâ”€â”€ Set Game Paused: True
â”‚   â”‚   â”œâ”€â”€ Show Pause Menu
â”‚   â”‚   â””â”€â”€ Set Input Mode: UI Only
â”‚   â””â”€â”€ B: Resume Game
â”‚       â”œâ”€â”€ Set Game Paused: False
â”‚       â”œâ”€â”€ Hide Pause Menu
â”‚       â””â”€â”€ Set Input Mode: Game Only
</Code>

## ğŸ‘¤ Player State ìƒì„±

### Player State í´ë˜ìŠ¤

<Steps>

### ë¸”ë£¨í”„ë¦°íŠ¸ ìƒì„±

1. **Blueprint Class** â†’ **Player State**
2. ì´ë¦„: `BP_JumpMapPlayerState`
3. í´ë”: `Content/Blueprints/Player/`

### í”Œë ˆì´ì–´ ë°ì´í„° ë³€ìˆ˜

```
ë³€ìˆ˜ëª…: PlayerName
íƒ€ì…: String
ì„¤ëª…: í”Œë ˆì´ì–´ ì´ë¦„

ë³€ìˆ˜ëª…: CurrentScore
íƒ€ì…: Integer
ì„¤ëª…: í˜„ì¬ ì ìˆ˜

ë³€ìˆ˜ëª…: CoinsCollected
íƒ€ì…: Integer
ì„¤ëª…: ìˆ˜ì§‘í•œ ì½”ì¸ ìˆ˜

ë³€ìˆ˜ëª…: DeathCount
íƒ€ì…: Integer
ì„¤ëª…: ì£½ì€ íšŸìˆ˜

ë³€ìˆ˜ëª…: CheckpointIndex
íƒ€ì…: Integer
ì„¤ëª…: í˜„ì¬ ì²´í¬í¬ì¸íŠ¸

ë³€ìˆ˜ëª…: PersonalBestTime
íƒ€ì…: Float
ì„¤ëª…: ê°œì¸ ìµœê³  ê¸°ë¡
```

</Steps>

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„

### ì²´í¬í¬ì¸íŠ¸ ì‹œìŠ¤í…œ

<Code language="blueprint">
Function: SetCheckpoint
ì…ë ¥:
â”œâ”€â”€ CheckpointActor (Actor Reference)
â””â”€â”€ CheckpointIndex (Integer)

ì‹¤í–‰:
â”œâ”€â”€ Save Current Position
â”œâ”€â”€ Update CheckpointIndex
â”œâ”€â”€ Store Checkpoint Transform
â”œâ”€â”€ Play Checkpoint Sound
â”œâ”€â”€ Show Checkpoint UI Notification
â””â”€â”€ Save Game Progress
</Code>

### ë¦¬ìŠ¤í° ì‹œìŠ¤í…œ

<Code language="blueprint">
Function: RespawnPlayer
ì‹¤í–‰:
â”œâ”€â”€ Get Last Checkpoint Transform
â”œâ”€â”€ Fade Out Screen (0.3s)
â”œâ”€â”€ Teleport Player to Checkpoint
â”œâ”€â”€ Reset Player Velocity
â”œâ”€â”€ Increment Death Count
â”œâ”€â”€ Fade In Screen (0.3s)
â”œâ”€â”€ Apply Respawn Penalty
â”‚   â””â”€â”€ Subtract Score (if enabled)
â””â”€â”€ Update HUD Death Counter
</Code>

### ìŠ¤ì½”ì–´ ì‹œìŠ¤í…œ

<Tabs items={['ì ìˆ˜ ì¶”ê°€', 'ì ìˆ˜ ê³„ì‚°', 'ë³´ë„ˆìŠ¤ ì‹œìŠ¤í…œ']}>
  <Tabs.Tab>
    **ì ìˆ˜ ì¶”ê°€ í•¨ìˆ˜**
    
    ```blueprint
    Function: AddScore
    ì…ë ¥: ScoreAmount (Integer)
    
    ì‹¤í–‰:
    â”œâ”€â”€ CurrentScore += ScoreAmount
    â”œâ”€â”€ Check for Score Milestones
    â”‚   â”œâ”€â”€ 1000 points: Unlock Achievement
    â”‚   â”œâ”€â”€ 5000 points: Grant Extra Life
    â”‚   â””â”€â”€ 10000 points: Unlock Bonus Level
    â”œâ”€â”€ Update HUD Score Display
    â””â”€â”€ Play Score Sound (pitched by amount)
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **ìµœì¢… ì ìˆ˜ ê³„ì‚°**
    
    ```blueprint
    Function: CalculateFinalScore
    
    ê³„ì‚°:
    â”œâ”€â”€ Base Score = CurrentScore
    â”œâ”€â”€ Time Bonus = (TimeLimit - CompletionTime) Ã— 10
    â”œâ”€â”€ No Death Bonus = (DeathCount == 0) ? 1000 : 0
    â”œâ”€â”€ Coin Bonus = CoinsCollected Ã— 50
    â”œâ”€â”€ Combo Multiplier = GetComboMultiplier()
    â””â”€â”€ Final = (Base + Bonuses) Ã— Multiplier
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **ì½¤ë³´ ì‹œìŠ¤í…œ**
    
    ```blueprint
    Variables:
    â”œâ”€â”€ ComboCount (Integer)
    â”œâ”€â”€ ComboTimer (Float)
    â””â”€â”€ MaxComboTime (Float = 5.0)
    
    Function: UpdateCombo
    â”œâ”€â”€ ComboCount++
    â”œâ”€â”€ Reset ComboTimer to MaxComboTime
    â”œâ”€â”€ Calculate Multiplier (1 + ComboCount Ã— 0.1)
    â”œâ”€â”€ Update HUD Combo Display
    â””â”€â”€ If ComboTimer expires: Reset Combo
    ```
  </Tabs.Tab>
</Tabs>

## ğŸ¨ HUD ì—°ê²°

### HUD ìœ„ì ¯ ìƒì„± ë° ê´€ë¦¬

<Code language="blueprint">
Event BeginPlay (in PlayerController)
â”œâ”€â”€ Create Widget: WBP_JumpMapHUD
â”œâ”€â”€ Add to Viewport
â”œâ”€â”€ Store Widget Reference
â””â”€â”€ Initialize HUD Values
    â”œâ”€â”€ Set Player Name
    â”œâ”€â”€ Set Score to 0
    â”œâ”€â”€ Set Timer to 0:00
    â””â”€â”€ Hide Death Counter
</Code>

### HUD ì—…ë°ì´íŠ¸ í•¨ìˆ˜

<Code language="blueprint">
Function: UpdateHUD
ì…ë ¥:
â”œâ”€â”€ UpdateType (Enum: Score/Time/Coins/Deaths/All)
â””â”€â”€ Value (Float)

ì‹¤í–‰:
â”œâ”€â”€ Switch on UpdateType
â”‚   â”œâ”€â”€ Score: HUDWidget->SetScore(Value)
â”‚   â”œâ”€â”€ Time: HUDWidget->SetTime(FormatTime(Value))
â”‚   â”œâ”€â”€ Coins: HUDWidget->SetCoins(Value)
â”‚   â”œâ”€â”€ Deaths: HUDWidget->SetDeaths(Value)
â”‚   â””â”€â”€ All: Update All Fields
â””â”€â”€ Play Update Animation (if enabled)
</Code>

## ğŸ”„ Game Mode ì—°ë™

### Player Controllerë¥¼ Game Modeì— ì—°ê²°

<Steps>

### Game Mode ì„¤ì •

1. `BP_JumpMapGameMode` ì—´ê¸°
2. Class Defaultsì—ì„œ:
   - **Player Controller Class**: `BP_JumpMapPlayerController`
   - **Player State Class**: `BP_JumpMapPlayerState`

### ì´ˆê¸°í™” í™•ì¸

Event Graphì—ì„œ:
```blueprint
Event: OnPostLogin
â”œâ”€â”€ Cast to BP_JumpMapPlayerController
â”œâ”€â”€ Initialize Player Settings
â”œâ”€â”€ Setup Input Mappings
â””â”€â”€ Spawn Initial HUD
```

</Steps>

## ğŸ® ê³ ê¸‰ ê¸°ëŠ¥

### ì¹´ë©”ë¼ ì „í™˜ ì‹œìŠ¤í…œ

<Code language="blueprint">
Function: SwitchCameraView
ì…ë ¥: ViewType (Enum: ThirdPerson/FirstPerson/TopDown)

ì‹¤í–‰:
â”œâ”€â”€ Get Current Pawn
â”œâ”€â”€ Switch on ViewType
â”‚   â”œâ”€â”€ ThirdPerson:
â”‚   â”‚   â”œâ”€â”€ Set Camera Boom Length: 400
â”‚   â”‚   â””â”€â”€ Set Camera Rotation: (-20, 0, 0)
â”‚   â”œâ”€â”€ FirstPerson:
â”‚   â”‚   â”œâ”€â”€ Set Camera Boom Length: 0
â”‚   â”‚   â””â”€â”€ Attach to Head Socket
â”‚   â””â”€â”€ TopDown:
â”‚       â”œâ”€â”€ Set Camera Boom Length: 1000
â”‚       â””â”€â”€ Set Camera Rotation: (-70, 0, 0)
â””â”€â”€ Smooth Transition (0.5s)
</Code>

### í”Œë ˆì´ì–´ ì„¤ì • ì €ì¥

<Code language="blueprint">
Struct: PlayerSettings
â”œâ”€â”€ MouseSensitivity (Float)
â”œâ”€â”€ InvertYAxis (Boolean)
â”œâ”€â”€ FOV (Float)
â”œâ”€â”€ CameraDistance (Float)
â””â”€â”€ ControlScheme (Enum)

Function: SavePlayerSettings
â”œâ”€â”€ Create Settings Struct
â”œâ”€â”€ Populate with Current Values
â”œâ”€â”€ Save to Config File
â””â”€â”€ Apply Settings Immediately
</Code>

## ğŸ› ë””ë²„ê·¸ ê¸°ëŠ¥

### ë””ë²„ê·¸ ëª…ë ¹ì–´

<Tabs items={['ì´ë™ ê´€ë ¨', 'ì ìˆ˜ ê´€ë ¨', 'ìƒíƒœ ê´€ë ¨']}>
  <Tabs.Tab>
    ```blueprint
    Console Commands:
    - "jumpmap.teleport X Y Z" - íŠ¹ì • ì¢Œí‘œë¡œ ì´ë™
    - "jumpmap.noclip" - ë²½ í†µê³¼ ëª¨ë“œ
    - "jumpmap.fly" - ë¹„í–‰ ëª¨ë“œ
    - "jumpmap.walk" - ì¼ë°˜ ì´ë™ ëª¨ë“œ
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    ```blueprint
    Console Commands:
    - "jumpmap.addscore 1000" - ì ìˆ˜ ì¶”ê°€
    - "jumpmap.resetstats" - í†µê³„ ì´ˆê¸°í™”
    - "jumpmap.maxcombo" - ìµœëŒ€ ì½¤ë³´ ì„¤ì •
    - "jumpmap.unlockall" - ëª¨ë“  ì—…ì  í•´ì œ
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    ```blueprint
    Console Commands:
    - "jumpmap.godmode" - ë¬´ì  ëª¨ë“œ
    - "jumpmap.showdebug" - ë””ë²„ê·¸ ì •ë³´ í‘œì‹œ
    - "jumpmap.slowmo 0.5" - ìŠ¬ë¡œìš° ëª¨ì…˜
    - "jumpmap.timescale 2.0" - ì‹œê°„ ê°€ì†
    ```
  </Tabs.Tab>
</Tabs>

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### ì…ë ¥ ìµœì í™”

<Callout type="tip" emoji="âš¡">
  ë¶ˆí•„ìš”í•œ Tick ì´ë²¤íŠ¸ ëŒ€ì‹  ì…ë ¥ ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
</Callout>

```blueprint
âŒ í”¼í•´ì•¼ í•  ë°©ë²•:
Event Tick â†’ Check if Key Pressed â†’ Execute Action

âœ… ê¶Œì¥ ë°©ë²•:
Enhanced Input Action â†’ Direct Execution
```

### ë©”ëª¨ë¦¬ ê´€ë¦¬

```blueprint
Function: CleanupPlayer
â”œâ”€â”€ Clear Widget References
â”œâ”€â”€ Remove Input Mappings
â”œâ”€â”€ Clear Timer Handles
â”œâ”€â”€ Reset Player State
â””â”€â”€ Garbage Collection
```

## âœ… êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- âœ… Player Controller ìƒì„±
- âœ… Player State ìƒì„±  
- âœ… Enhanced Input ì„¤ì •
- âœ… ê¸°ë³¸ ì…ë ¥ ì²˜ë¦¬
- âœ… ì²´í¬í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
- âœ… ë¦¬ìŠ¤í° ì‹œìŠ¤í…œ
- âœ… ì ìˆ˜ ë° ì½¤ë³´ ì‹œìŠ¤í…œ
- âœ… HUD ì—°ê²° ë° ì—…ë°ì´íŠ¸
- âœ… Game Mode ì—°ë™
- âœ… ë””ë²„ê·¸ ê¸°ëŠ¥

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

<Callout type="success" emoji="ğŸ¯">
  í”Œë ˆì´ì–´ ì‹œìŠ¤í…œì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!
  ì´ì œ ê²Œì„ ì•¡í„°ë“¤ì„ êµ¬í˜„í•´ë´…ì‹œë‹¤.
</Callout>

[ê²Œì„ ì•¡í„° êµ¬í˜„í•˜ê¸° â†’](/unreal-engine-5/jumpmap-gamemode/actors)