import { Callout, Steps, Tabs } from 'nextra/components'
import dynamic from 'next/dynamic'

export const MovingPlatformBlueprint = dynamic(
  () => import('../../../components/UE5BlueprintExamples_New').then(mod => ({ default: mod.MovingPlatformBlueprint })),
  { ssr: false }
)

export const SplineMovementBlueprint = dynamic(
  () => import('../../../components/UE5BlueprintExamples_New').then(mod => ({ default: mod.SplineMovementBlueprint })),
  { ssr: false }
)

# ì›€ì§ì´ëŠ” í”Œë«í¼ ë§Œë“¤ê¸°

<Callout type="info" emoji="ğŸ¢">
  ì´ ê°€ì´ë“œì—ì„œëŠ” Spline Componentë¥¼ í™œìš©í•œ ì›€ì§ì´ëŠ” í”Œë«í¼ì„ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.
  ë³µì¡í•œ ê²½ë¡œë¥¼ ë”°ë¼ ì´ë™í•˜ë©° í”Œë ˆì´ì–´ë¥¼ ìš´ë°˜í•˜ëŠ” í”Œë«í¼ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
</Callout>

## í•™ìŠµ ëª©í‘œ

- Spline Componentë¥¼ ì‚¬ìš©í•œ ê²½ë¡œ ì„¤ì •
- Timelineì„ í™œìš©í•œ ë¶€ë“œëŸ¬ìš´ ì´ë™
- í”Œë ˆì´ì–´ Attach/Detach ì²˜ë¦¬
- ì™•ë³µ ë° ìˆœí™˜ ì´ë™ êµ¬í˜„

## ë¸”ë£¨í”„ë¦°íŠ¸ ìƒì„±

<Steps>
### ìƒˆ ì•¡í„° ë¸”ë£¨í”„ë¦°íŠ¸ ë§Œë“¤ê¸°

1. Content Browserì—ì„œ ìš°í´ë¦­
2. **Blueprint Class** ì„ íƒ
3. **Actor** í´ë˜ìŠ¤ ì„ íƒ
4. ì´ë¦„ì„ `BP_MovingPlatform`ìœ¼ë¡œ ì§€ì •

### í´ë” êµ¬ì¡° ì •ë¦¬

```plaintext
Content/
â””â”€â”€ Blueprints/
    â””â”€â”€ Platforms/
        â””â”€â”€ BP_MovingPlatform
```
</Steps>

## ì»´í¬ë„ŒíŠ¸ ì„¤ì •

### í•„ìˆ˜ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```plaintext
BP_MovingPlatform (Actor)
â”œâ”€â”€ DefaultSceneRoot
â”œâ”€â”€ StaticMesh (í”Œë«í¼ ë©”ì‹œ)
â”‚   â””â”€â”€ Mobility: Movable
â”œâ”€â”€ BoxCollision (í”Œë ˆì´ì–´ ê°ì§€)
â”‚   â””â”€â”€ BoxExtent: (200, 100, 20)
â”œâ”€â”€ SplineComponent (ì´ë™ ê²½ë¡œ)
â”‚   â””â”€â”€ Points: ìµœì†Œ 2ê°œ ì´ìƒ
â”œâ”€â”€ ArrowComponent (í˜„ì¬ ë°©í–¥)
â””â”€â”€ NiagaraSystem (ì˜µì…˜: íŠ¸ë ˆì¼ íš¨ê³¼)
```

### ì»´í¬ë„ŒíŠ¸ ì¶”ê°€í•˜ê¸°

<Tabs items={['Static Mesh', 'Spline Component', 'Box Collision']}>
  <Tabs.Tab>
    **Static Mesh ì„¤ì •**
    
    1. **Add Component** â†’ **Static Mesh** ì„ íƒ
    2. Details íŒ¨ë„ì—ì„œ ì„¤ì •:
       - **Static Mesh**: ì›í•˜ëŠ” í”Œë«í¼ ë©”ì‹œ ì„ íƒ
       - **Mobility**: `Movable` (ì¤‘ìš”!)
       - **Scale**: í”Œë«í¼ í¬ê¸°ì— ë§ê²Œ ì¡°ì •
    
    <Callout type="warning">
      Mobilityë¥¼ ë°˜ë“œì‹œ Movableë¡œ ì„¤ì •í•´ì•¼ ëŸ°íƒ€ì„ì— ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </Callout>
  </Tabs.Tab>
  
  <Tabs.Tab>
    **Spline Component ì„¤ì •**
    
    1. **Add Component** â†’ **Spline** ì„ íƒ
    2. ë·°í¬íŠ¸ì—ì„œ Spline í¬ì¸íŠ¸ í¸ì§‘:
       - Alt + ë“œë˜ê·¸: ìƒˆ í¬ì¸íŠ¸ ì¶”ê°€
       - í¬ì¸íŠ¸ ì„ íƒ í›„ ì´ë™: ê²½ë¡œ ìˆ˜ì •
       - ìš°í´ë¦­: í¬ì¸íŠ¸ ì‚­ì œ
    
    3. Details íŒ¨ë„ì—ì„œ:
       - **Closed Loop**: ìˆœí™˜ ê²½ë¡œë©´ ì²´í¬
       - **Duration**: ì „ì²´ ì´ë™ ì‹œê°„
  </Tabs.Tab>
  
  <Tabs.Tab>
    **Box Collision ì„¤ì •**
    
    1. **Add Component** â†’ **Box Collision** ì„ íƒ
    2. Details íŒ¨ë„ì—ì„œ ì„¤ì •:
       - **Box Extent**: `(200, 100, 20)`
       - **Relative Location**: `(0, 0, 20)` - í”Œë«í¼ ìœ„ì— ìœ„ì¹˜
       - **Collision Presets**: `OverlapAllDynamic`
       - **Generate Overlap Events**: âœ… ì²´í¬
  </Tabs.Tab>
</Tabs>

## ë³€ìˆ˜ ì„¤ì •

### ë³€ìˆ˜ ëª©ë¡

| ë³€ìˆ˜ëª… | íƒ€ì… | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `MoveSpeed` | Float | 300.0 | ì´ë™ ì†ë„ |
| `WaitTimeAtPoints` | Float | 2.0 | ê° í¬ì¸íŠ¸ ëŒ€ê¸°ì‹œê°„ |
| `bLoop` | Boolean | True | ìˆœí™˜ ì—¬ë¶€ |
| `bReverse` | Boolean | False | ì—­ë°©í–¥ ì´ë™ |
| `CurrentSplineDistance` | Float | 0.0 | í˜„ì¬ ìŠ¤í”Œë¼ì¸ ìœ„ì¹˜ |
| `CurrentDirection` | Float | 1.0 | ì´ë™ ë°©í–¥ (1=ì •ë°©í–¥, -1=ì—­ë°©í–¥) |
| `PlayersOnPlatform` | `Array<Character>` | Empty | í”Œë«í¼ ìœ„ í”Œë ˆì´ì–´ë“¤ |
| `bIsMoving` | Boolean | True | ì´ë™ ì¤‘ ì—¬ë¶€ |
| `SplineLength` | Float | 0.0 | ìŠ¤í”Œë¼ì¸ ì „ì²´ ê¸¸ì´ |

### ë³€ìˆ˜ ì¹´í…Œê³ ë¦¬ ì •ë¦¬

- **Movement Settings**: MoveSpeed, WaitTimeAtPoints
- **Path Settings**: bLoop, bReverse
- **Runtime**: CurrentSplineDistance, CurrentDirection, bIsMoving

## ì´ë²¤íŠ¸ ê·¸ë˜í”„ êµ¬í˜„

### BeginPlay - ì´ˆê¸°í™”

<MovingPlatformBlueprint />

<Callout type="info" emoji="ğŸ®">
  **ì¸í„°ë™í‹°ë¸Œ ë¸”ë£¨í”„ë¦°íŠ¸ ê¸°ëŠ¥**
  - ğŸ–±ï¸ **ë…¸ë“œ ë“œë˜ê·¸**: ëª¨ë“  ë…¸ë“œë¥¼ ììœ ë¡­ê²Œ ë°°ì¹˜
  - ğŸ”— **ë™ì  ì—°ê²°**: ì‹¤ì‹œê°„ìœ¼ë¡œ ì—°ê²° ìˆ˜ì • ê°€ëŠ¥
  - ğŸ“ **Smart Layout**: ìë™ ì •ë ¬ë¡œ ê¹”ë”í•œ ê·¸ë˜í”„ êµ¬ì„±
  - ğŸ” **í™•ëŒ€/ì¶•ì†Œ**: ë§ˆìš°ìŠ¤ íœ  ë˜ëŠ” ì»¨íŠ¸ë¡¤ ë²„íŠ¼
  - ğŸ“ **ë„¤ë¹„ê²Œì´ì…˜**: ë¯¸ë‹ˆë§µìœ¼ë¡œ í° ê·¸ë˜í”„ íƒìƒ‰
  - ğŸ¨ **ë…¸ë“œ í•˜ì´ë¼ì´íŠ¸**: ì„ íƒí•œ ë…¸ë“œ ê°•ì¡° í‘œì‹œ
</Callout>

### Event Tick - ì´ë™ ë¡œì§

í”Œë«í¼ì˜ ì‹¤ì œ ì´ë™ì„ ì²˜ë¦¬í•˜ëŠ” í•µì‹¬ ë¡œì§ì…ë‹ˆë‹¤.

<Tabs items={['ì´ë™ ê³„ì‚°', 'í”Œë ˆì´ì–´ ì—…ë°ì´íŠ¸', 'ê²½ë¡œ ë ì²˜ë¦¬']}>
  <Tabs.Tab>
    **ì´ë™ ê³„ì‚°**
    
    ```plaintext
    Event Tick
    â”œâ”€â”€ Branch (bIsMoving)
    â”‚   â””â”€â”€ True:
    â”‚       â”œâ”€â”€ Calculate Delta Distance
    â”‚       â”‚   â”œâ”€â”€ Delta Time * MoveSpeed * CurrentDirection
    â”‚       â”‚   â””â”€â”€ Add to CurrentSplineDistance
    â”‚       â”œâ”€â”€ Get Location at Distance Along Spline
    â”‚       â”‚   â””â”€â”€ Distance: CurrentSplineDistance
    â”‚       â””â”€â”€ Set Actor Location
    â”‚           â””â”€â”€ Sweep: True
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **í”Œë ˆì´ì–´ ì—…ë°ì´íŠ¸**
    
    í”Œë«í¼ê³¼ í•¨ê»˜ ì´ë™í•˜ë„ë¡ ì²˜ë¦¬:
    
    ```plaintext
    Update Players on Platform
    â”œâ”€â”€ ForEach (PlayersOnPlatform)
    â”‚   â”œâ”€â”€ Get Delta Movement
    â”‚   â””â”€â”€ Add World Offset to Character
    â”‚       â””â”€â”€ Sweep: True
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **ê²½ë¡œ ë ì²˜ë¦¬**
    
    ```plaintext
    Check End Points
    â”œâ”€â”€ Branch (CurrentSplineDistance >= SplineLength)
    â”‚   â””â”€â”€ True:
    â”‚       â”œâ”€â”€ Branch (bLoop)
    â”‚       â”‚   â”œâ”€â”€ True: Set CurrentSplineDistance to 0
    â”‚       â”‚   â””â”€â”€ False:
    â”‚       â”‚       â””â”€â”€ Branch (bReverse)
    â”‚       â”‚           â”œâ”€â”€ True: Set CurrentDirection to -1
    â”‚       â”‚           â””â”€â”€ False: Set bIsMoving to False
    â”‚       â””â”€â”€ Delay (WaitTimeAtPoints)
    ```
  </Tabs.Tab>
</Tabs>

### Overlap ì´ë²¤íŠ¸ - í”Œë ˆì´ì–´ ì²˜ë¦¬

<SplineMovementBlueprint />

<Callout type="tip" emoji="ğŸ’¡">
  **ê³ ê¸‰ ë¸”ë£¨í”„ë¦°íŠ¸ ì¡°ì‘**
  - **ê·¸ë£¹ ì„ íƒ**: Shift + ë“œë˜ê·¸ë¡œ ì—¬ëŸ¬ ë…¸ë“œ ì„ íƒ
  - **ì •ë ¬ ë„êµ¬**: ì„ íƒí•œ ë…¸ë“œë“¤ì„ ìë™ ì •ë ¬
  - **ì½”ë©˜íŠ¸ ë°•ìŠ¤**: C í‚¤ë¡œ ë…¸ë“œ ê·¸ë£¹ì— ì„¤ëª… ì¶”ê°€
  - **ë¶ë§ˆí¬**: 1-9 í‚¤ë¡œ íŠ¹ì • ìœ„ì¹˜ ì €ì¥ ë° ì´ë™
  - **ì‹¤í–‰ íë¦„ ì¶”ì **: ì‹¤í–‰ í•€ì„ ë”°ë¼ ë¡œì§ íë¦„ í™•ì¸
</Callout>

#### Begin Overlap
```plaintext
On Component Begin Overlap (BoxCollision)
â”œâ”€â”€ Cast to Character
â”œâ”€â”€ Add to PlayersOnPlatform Array
â””â”€â”€ Attach to Component
    â”œâ”€â”€ Target: Character Mesh
    â”œâ”€â”€ Parent: Platform Mesh
    â””â”€â”€ Attach Type: Keep World Transform
```

#### End Overlap
```plaintext
On Component End Overlap (BoxCollision)
â”œâ”€â”€ Cast to Character
â”œâ”€â”€ Remove from PlayersOnPlatform Array
â””â”€â”€ Detach from Component
    â””â”€â”€ Detachment Type: Keep World Transform
```

## ê³ ê¸‰ ê¸°ëŠ¥

### Timelineì„ í™œìš©í•œ ë¶€ë“œëŸ¬ìš´ ì´ë™

<Callout type="tip" emoji="ğŸ’¡">
  Timelineì„ ì‚¬ìš©í•˜ë©´ ë” ë¶€ë“œëŸ½ê³  ìì—°ìŠ¤ëŸ¬ìš´ ì´ë™ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Callout>

<Steps>
### Timeline ìƒì„±

1. ê·¸ë˜í”„ì—ì„œ ìš°í´ë¦­ â†’ **Add Timeline**
2. ì´ë¦„: `PlatformMovement`

### ì»¤ë¸Œ ì„¤ì •

1. Timeline ë”ë¸”í´ë¦­
2. **Add Float Track** í´ë¦­
3. ì»¤ë¸Œ í¸ì§‘:
   - 0ì´ˆ: ê°’ 0
   - Durationì´ˆ: ê°’ 1
   - ì»¤ë¸Œ íƒ€ì…: Linear ë˜ëŠ” Smooth

### Timeline ì—°ê²°

```plaintext
BeginPlay â†’ Play (Timeline)
Timeline Update â†’ Get Spline Location at Time
                 â””â”€â”€ Set Actor Location
```
</Steps>

### ë‹¤ì–‘í•œ ì´ë™ íŒ¨í„´

<Tabs items={['ì™•ë³µ ì´ë™', 'ìˆœí™˜ ì´ë™', 'ì¼ì‹œ ì •ì§€']}>
  <Tabs.Tab>
    **ì™•ë³µ ì´ë™ (Ping-Pong)**
    
    ```plaintext
    Handle End Point
    â”œâ”€â”€ Multiply CurrentDirection by -1
    â””â”€â”€ Continue Movement
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **ìˆœí™˜ ì´ë™ (Loop)**
    
    ```plaintext
    Handle End Point
    â”œâ”€â”€ Set CurrentSplineDistance to 0
    â””â”€â”€ Continue Movement
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **í¬ì¸íŠ¸ë³„ ì¼ì‹œ ì •ì§€**
    
    ```plaintext
    At Spline Point
    â”œâ”€â”€ Set bIsMoving to False
    â”œâ”€â”€ Delay (WaitTimeAtPoints)
    â””â”€â”€ Set bIsMoving to True
    ```
  </Tabs.Tab>
</Tabs>

## ì„±ëŠ¥ ìµœì í™”

### ìµœì í™” íŒ

- **Event Tick ëŒ€ì‹  Timeline ì‚¬ìš©**: í”„ë ˆì„ ë…ë¦½ì  ì´ë™
- **ê±°ë¦¬ ê¸°ë°˜ í™œì„±í™”**: í”Œë ˆì´ì–´ê°€ ê°€ê¹Œì´ ìˆì„ ë•Œë§Œ ì´ë™
- **LOD ì„¤ì •**: ì›ê±°ë¦¬ì—ì„œ ë‹¨ìˆœí™”ëœ ë©”ì‹œ ì‚¬ìš©
- **ë„¤íŠ¸ì›Œí¬ ìµœì í™”**: ì„œë²„ì—ì„œë§Œ ì´ë™ ê³„ì‚°, í´ë¼ì´ì–¸íŠ¸ëŠ” ë³´ê°„

### ê±°ë¦¬ ê¸°ë°˜ í™œì„±í™” êµ¬í˜„

```plaintext
Event Tick
â”œâ”€â”€ Get Player Distance
â”œâ”€â”€ Branch (Distance < ActivationRange)
â”‚   â”œâ”€â”€ True: Enable Movement
â”‚   â””â”€â”€ False: Disable Movement
```

## ë¬¸ì œ í•´ê²°

### í”Œë ˆì´ì–´ê°€ ë¯¸ë„ëŸ¬ì§ˆ ë•Œ

1. Attach ì„¤ì •ì„ `Keep World` â†’ `Snap to Target` ë³€ê²½
2. Character Movementì˜ Ground Friction ì¦ê°€
3. í”Œë«í¼ í‘œë©´ Materialì˜ Friction ì¡°ì •

### í”Œë«í¼ì´ ë–¨ë¦´ ë•Œ

1. Interpolation Modeë¥¼ `Smooth`ë¡œ ë³€ê²½
2. Move Speed ê°’ ì¡°ì •
3. Sweep ì˜µì…˜ í™•ì¸

### ìŠ¤í”Œë¼ì¸ ê²½ë¡œê°€ ë³´ì´ì§€ ì•Šì„ ë•Œ

1. Show â†’ **Splines** í™œì„±í™”
2. Spline Component ì„ íƒ ìƒíƒœ í™•ì¸
3. Editorì—ì„œë§Œ í‘œì‹œë˜ëŠ” ê²ƒì´ ì •ìƒ

## ë‹¤ìŒ ë‹¨ê³„

<Callout type="success" emoji="ğŸ‰">
  ì›€ì§ì´ëŠ” í”Œë«í¼ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤!
  ì´ì œ ë” ë³µì¡í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì¶”ê°€í•´ë´…ì‹œë‹¤.
</Callout>

ë‹¤ìŒì— ì‹œë„í•´ë³¼ ê¸°ëŠ¥ë“¤:
- ğŸµ í”Œë«í¼ ì´ë™ ì‚¬ìš´ë“œ ì¶”ê°€
- âœ¨ íŒŒí‹°í´ íŠ¸ë ˆì¼ íš¨ê³¼
- ğŸ”„ íšŒì „í•˜ë©° ì´ë™í•˜ëŠ” í”Œë«í¼
- ğŸ® í”Œë ˆì´ì–´ ì…ë ¥ìœ¼ë¡œ ì œì–´ ê°€ëŠ¥í•œ í”Œë«í¼

[í…”ë ˆí¬íŠ¸ í¬í„¸ë¡œ ê³„ì†í•˜ê¸° â†’](/unreal-engine-5/jump-map/teleport-portals)