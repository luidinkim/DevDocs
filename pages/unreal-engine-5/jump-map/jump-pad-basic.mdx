import { Callout, Steps, Tabs, Code } from 'nextra/components'
import dynamic from 'next/dynamic'

export const UE5BlueprintNodes = dynamic(
  () => import('../../../components/UE5BlueprintNodes'),
  { ssr: false }
)

export const UE5BlueprintLayout = dynamic(
  () => import('../../../components/UE5BlueprintLayout'),
  { ssr: false }
)

# 기본 점프패드 만들기

<Callout type="info" emoji="🎯">
  이 가이드는 언리얼 엔진 5에서 가장 기본적인 점프패드를 만드는 방법을 설명합니다.
  단순히 캐릭터를 위로 발사하는 기능만 구현하여 블루프린트의 기초를 학습합니다.
</Callout>

## 학습 목표

- Actor 블루프린트 생성 방법
- 컴포넌트 추가 및 설정
- Overlap 이벤트 처리
- Launch Character 노드 사용법

## 블루프린트 생성

<Steps>
### 새 액터 블루프린트 만들기

1. Content Browser에서 우클릭
2. **Blueprint Class** 선택
3. **Actor** 선택
4. 이름을 `BP_JumpPad_Basic`으로 지정

### 폴더 구조 정리

```plaintext
Content/
└── Blueprints/
    └── JumpPads/
        └── BP_JumpPad_Basic
```
</Steps>

## 컴포넌트 설정

### 필수 컴포넌트 구조

```plaintext
BP_JumpPad_Basic (Actor)
├── DefaultSceneRoot
├── StaticMesh (패드 모양)
└── BoxCollision (트리거 영역)
```

### 컴포넌트 추가하기

<Tabs items={['Static Mesh', 'Box Collision']}>
  <Tabs.Tab>
    **Static Mesh 컴포넌트 설정**
    
    1. Components 패널에서 **Add Component** → **Static Mesh** 선택
    2. Details 패널에서 설정:
       - **Static Mesh**: `SM_Cube` (기본 큐브) 또는 원하는 메시
       - **Scale**: `(2.0, 2.0, 0.2)` - 납작한 패드 모양
       - **Material**: 기본 머티리얼 또는 커스텀 머티리얼

    <Callout type="tip">
      엔진 콘텐츠의 기본 큐브를 사용하려면 View Options에서 "Show Engine Content"를 활성화하세요.
    </Callout>
  </Tabs.Tab>
  
  <Tabs.Tab>
    **Box Collision 컴포넌트 설정**
    
    1. Components 패널에서 **Add Component** → **Box Collision** 선택
    2. Details 패널에서 설정:
       - **Box Extent**: `(100, 100, 50)`
       - **Relative Location**: `(0, 0, 50)` - 패드 위에 위치
       - **Collision Presets**: `OverlapAllDynamic`
    
    3. Collision 섹션에서:
       - **Generate Overlap Events**: ✅ 체크
       - **Collision Enabled**: `Query Only`
  </Tabs.Tab>
</Tabs>

## 이벤트 그래프 구현

### 가장 단순한 Launch Character 구현

이제 블루프린트의 핵심인 이벤트 그래프를 구현합니다.

<UE5BlueprintLayout algorithm="smart">
  {() => {
    const { 
      EventNode, 
      CastNode, 
      FunctionNode,
      VariableNode,
      BranchNode,
      BasicNode
    } = UE5BlueprintNodes;
    
    const nodes = [
      {
        id: 'overlap',
        type: 'custom',
        position: { x: 0, y: 0 },
        data: {
          render: () => (
            <EventNode 
              title="On Component Begin Overlap"
              subtitle="Box Collision"
              outputs={[
                { name: '', type: 'exec' },
                { name: 'Other Actor', type: 'object' },
                { name: 'Other Comp', type: 'object' }
              ]}
            />
          )
        }
      },
      {
        id: 'cast',
        type: 'custom',
        position: { x: 300, y: 0 },
        data: {
          render: () => (
            <CastNode
              title="Cast to Character"
              inputs={[
                { name: '', type: 'exec' },
                { name: 'Object', type: 'object' }
              ]}
              outputs={[
                { name: '', type: 'exec' },
                { name: 'Cast Failed', type: 'exec' },
                { name: 'As Character', type: 'object' }
              ]}
            />
          )
        }
      },
      {
        id: 'launch',
        type: 'custom',
        position: { x: 600, y: 0 },
        data: {
          render: () => (
            <FunctionNode
              title="Launch Character"
              subtitle="Target is Character"
              inputs={[
                { name: '', type: 'exec' },
                { name: 'Target', type: 'object' },
                { name: 'Launch Velocity', type: 'vector', value: '0, 0, 1500' },
                { name: 'XY Override', type: 'boolean', value: 'false' },
                { name: 'Z Override', type: 'boolean', value: 'true' }
              ]}
              outputs={[
                { name: '', type: 'exec' }
              ]}
            />
          )
        }
      }
    ];
    
    const edges = [
      { 
        id: 'e1', 
        source: 'overlap', 
        target: 'cast',
        sourceHandle: 'output-0',
        targetHandle: 'input-0',
        type: 'exec'
      },
      { 
        id: 'e2', 
        source: 'overlap', 
        target: 'cast',
        sourceHandle: 'output-1',
        targetHandle: 'input-1',
        type: 'data'
      },
      { 
        id: 'e3', 
        source: 'cast', 
        target: 'launch',
        sourceHandle: 'output-0',
        targetHandle: 'input-0',
        type: 'exec'
      },
      { 
        id: 'e4', 
        source: 'cast', 
        target: 'launch',
        sourceHandle: 'output-2',
        targetHandle: 'input-1',
        type: 'data'
      }
    ];
    
    return { nodes, edges };
  }}
</UE5BlueprintLayout>

### 블루프린트 노드 연결 단계별 설명

<Steps>
### On Component Begin Overlap 이벤트 추가

1. Box Collision 컴포넌트 선택
2. Details 패널에서 **Events** 섹션 찾기
3. **On Component Begin Overlap** 옆 **+** 버튼 클릭
4. 이벤트 그래프에 노드가 자동으로 추가됨

### Cast to Character 노드 연결

1. 그래프에서 우클릭 → "Cast to Character" 검색
2. **Other Actor** 핀을 **Cast to Character**의 **Object** 핀에 연결
3. 실행 핀(흰색 화살표)도 연결

<Callout type="info">
  Cast는 Actor를 특정 클래스(Character)로 변환하는 과정입니다. 
  점프패드는 Character만 발사해야 하므로 이 확인이 필요합니다.
</Callout>

### Launch Character 노드 추가

1. 그래프에서 우클릭 → "Launch Character" 검색
2. **Cast to Character**의 **As Character** 핀을 **Target**에 연결
3. 실행 핀 연결
4. 파라미터 설정:
   - **Launch Velocity**: `(0, 0, 1500)`
   - **XY Override**: `False` (기존 수평 속도 유지)
   - **Z Override**: `True` (수직 속도만 덮어쓰기)

### 컴파일 및 저장

1. 툴바에서 **Compile** 버튼 클릭
2. **Save** 버튼 클릭
</Steps>

## Launch Character 파라미터 설명

<Tabs items={['Launch Velocity', 'Override 옵션']}>
  <Tabs.Tab>
    **Launch Velocity (Vector)**
    
    캐릭터를 발사할 속도를 3D 벡터로 지정합니다.
    
    - **X**: 전방 속도 (양수: 앞, 음수: 뒤)
    - **Y**: 측면 속도 (양수: 오른쪽, 음수: 왼쪽)
    - **Z**: 수직 속도 (양수: 위, 음수: 아래)
    
    일반적인 값 범위:
    - 낮은 점프: `500 ~ 1000`
    - 중간 점프: `1000 ~ 2000`
    - 높은 점프: `2000 ~ 3000`
  </Tabs.Tab>
  
  <Tabs.Tab>
    **Override 옵션**
    
    기존 캐릭터 속도를 어떻게 처리할지 결정합니다.
    
    - **XY Override = False**: 
      - 기존 수평 이동 속도 유지
      - Launch Velocity의 XY 값이 추가됨
    
    - **XY Override = True**: 
      - 기존 수평 속도 무시
      - Launch Velocity의 XY 값으로 완전 교체
    
    - **Z Override = False**: 
      - 기존 수직 속도에 추가
      - 떨어지는 중이면 더 약하게 발사됨
    
    - **Z Override = True**: 
      - 기존 수직 속도 무시
      - 항상 일정한 높이로 발사
  </Tabs.Tab>
</Tabs>

## 테스트 방법

<Steps>
### 레벨에 배치

1. Content Browser에서 `BP_JumpPad_Basic` 찾기
2. 레벨 뷰포트로 드래그 앤 드롭
3. 적절한 위치에 배치 (바닥이나 플랫폼 위)

### Play In Editor 실행

1. 툴바에서 **Play** 버튼 클릭 (또는 Alt+P)
2. 캐릭터로 점프패드 위를 지나가기
3. 캐릭터가 위로 발사되는지 확인

### 디버그 테스트

점프패드가 작동하는지 시각적으로 확인:

1. 에디터에서 **Show → Collision** 활성화
2. Box Collision 영역이 보이는지 확인
3. Play 중 Output Log에서 오류 확인
</Steps>

## 문제 해결

### 작동하지 않을 때

<Callout type="warning" emoji="⚠️">
  다음 사항들을 순서대로 확인하세요:
</Callout>

1. **Box Collision 설정 확인**
   - Collision Presets가 `OverlapAllDynamic`인지
   - Generate Overlap Events가 체크되어 있는지

2. **블루프린트 컴파일**
   - 변경사항 후 반드시 Compile 버튼 클릭
   - 오류가 없는지 확인

3. **캐릭터 클래스 확인**
   - 테스트하는 Pawn이 Character 클래스를 상속받는지
   - Game Mode에서 올바른 Character 클래스 사용 중인지

### 높이 조정

```plaintext
너무 낮게 날아갈 때: Z 값을 2000~3000으로 증가
너무 높게 날아갈 때: Z 값을 500~1000으로 감소
```

## 다음 단계

<Callout type="success" emoji="✨">
  축하합니다! 기본 점프패드를 완성했습니다.
  이제 더 고급 기능을 추가해봅시다.
</Callout>

다음 가이드에서 배울 내용:
- 🎯 변수를 사용한 쉬운 커스터마이징
- 🎨 시각 효과와 사운드 추가
- 🔄 재사용 대기시간 구현
- 📐 Arrow Component로 방향 제어

[중급 점프패드로 계속하기 →](/unreal-engine-5/jump-map/jump-pad-intermediate)