import { Callout, Steps, Tabs, Code } from 'nextra/components'
import dynamic from 'next/dynamic'

export const CheckpointBlueprint = dynamic(
  () => import('../../../components/UE5BlueprintExamples_New').then(mod => ({ default: mod.CheckpointBlueprint })),
  { ssr: false }
)

export const RespawnSystemBlueprint = dynamic(
  () => import('../../../components/UE5BlueprintExamples_New').then(mod => ({ default: mod.RespawnSystemBlueprint })),
  { ssr: false }
)

# μ²΄ν¬ν¬μΈνΈ μ‹μ¤ν… κµ¬ν„ν•κΈ°

<Callout type="info" emoji="π">
  μ΄ κ°€μ΄λ“μ—μ„λ” ν”λ μ΄μ–΄μ μ§„ν–‰ μƒν™©μ„ μ €μ¥ν•κ³  λ¦¬μ¤ν°ν•  μ μλ” μ²΄ν¬ν¬μΈνΈ μ‹μ¤ν…μ„ λ§λ“­λ‹λ‹¤.
  λ–¨μ–΄μ΅μ„ λ• μλ™μΌλ΅ λ§μ§€λ§‰ μ²΄ν¬ν¬μΈνΈμ—μ„ λ¦¬μ¤ν°ν•λ” κΈ°λ¥μ„ κµ¬ν„ν•©λ‹λ‹¤.
</Callout>

## ν•™μµ λ©ν‘

- μ²΄ν¬ν¬μΈνΈ μ•΅ν„° μƒμ„±
- κ²μ„λ¨λ“μ™€ μ—°λ™
- λ¦¬μ¤ν° μ‹μ¤ν… κµ¬ν„
- μ§„ν–‰ μƒν™© μ €μ¥ λ° λ¶λ¬μ¤κΈ°
- μ‹κ°μ  ν”Όλ“λ°± μ¶”κ°€

## μ‹μ¤ν… κµ¬μ΅°

### μ „μ²΄ μ•„ν‚¤ν…μ²

```plaintext
Jump Map System
β”β”€β”€ BP_Checkpoint (Actor)
β”‚   β”β”€β”€ μ²΄ν¬ν¬μΈνΈ νΈλ¦¬κ±°
β”‚   β””β”€β”€ μ‹κ°μ  μƒνƒ ν‘μ‹
β”β”€β”€ GM_JumpMap (Game Mode)
β”‚   β”β”€β”€ ν”λ μ΄μ–΄ μ²΄ν¬ν¬μΈνΈ κ΄€λ¦¬
β”‚   β””β”€β”€ λ¦¬μ¤ν° λ΅μ§
β””β”€β”€ BP_KillVolume (Actor)
    β””β”€β”€ λ‚™ν• κ°μ§€ λ° λ¦¬μ¤ν° νΈλ¦¬κ±°
```

## μ²΄ν¬ν¬μΈνΈ μ•΅ν„° μƒμ„±

<Steps>
### μƒ λΈ”λ£¨ν”„λ¦°νΈ μƒμ„±

1. Content Browserμ—μ„ μ°ν΄λ¦­
2. **Blueprint Class** μ„ νƒ
3. **Actor** ν΄λμ¤ μ„ νƒ
4. μ΄λ¦„μ„ `BP_Checkpoint`λ΅ μ§€μ •

### ν΄λ” κµ¬μ΅°

```plaintext
Content/
β””β”€β”€ Blueprints/
    β””β”€β”€ Checkpoint/
        β”β”€β”€ BP_Checkpoint
        β”β”€β”€ BP_KillVolume
        β””β”€β”€ GM_JumpMap
```
</Steps>

## μ²΄ν¬ν¬μΈνΈ μ»΄ν¬λ„νΈ μ„¤μ •

### μ»΄ν¬λ„νΈ κµ¬μ΅°

```plaintext
BP_Checkpoint (Actor)
β”β”€β”€ DefaultSceneRoot
β”β”€β”€ StaticMesh (μ²΄ν¬ν¬μΈνΈ ν”λκ·Έ/λ§μ»¤)
β”‚   β””β”€β”€ Material: M_Checkpoint
β”β”€β”€ BoxCollision (νΈλ¦¬κ±° μμ—­)
β”‚   β””β”€β”€ BoxExtent: (100, 100, 150)
β”β”€β”€ PointLight (ν™μ„±ν™” ν‘μ‹)
β”‚   β”β”€β”€ Intensity: 5000
β”‚   β””β”€β”€ Light Color: Red (λΉ„ν™μ„±) / Green (ν™μ„±)
β”β”€β”€ TextRender (μ²΄ν¬ν¬μΈνΈ λ²νΈ)
β”‚   β””β”€β”€ Text: "Checkpoint 1"
β”β”€β”€ ParticleSystem (ν™μ„±ν™” ν¨κ³Ό)
β”‚   β””β”€β”€ Auto Activate: False
β””β”€β”€ AudioComponent (ν™μ„±ν™” μ‚¬μ΄λ“)
    β””β”€β”€ Auto Activate: False
```

### μ»΄ν¬λ„νΈ μ„¤μ •

<Tabs items={['λ©”μ‹ μ»΄ν¬λ„νΈ', 'νΈλ¦¬κ±° μ„¤μ •', 'ν¨κ³Ό μ»΄ν¬λ„νΈ']}>
  <Tabs.Tab>
    **Static Mesh μ„¤μ •**
    
    1. **Add Component** β†’ **Static Mesh**
    2. μ΄λ¦„: `CheckpointFlag`
    3. Static Mesh: κΉƒλ° λλ” λ§μ»¤ λ©”μ‹
    4. Material: μ²΄ν¬ν¬μΈνΈ λ¨Έν‹°λ¦¬μ–Ό
    
    **Text Render μ¶”κ°€**
    1. **Add Component** β†’ **Text Render**
    2. μ΄λ¦„: `CheckpointNumber`
    3. Text: "01"
    4. ν¬κΈ° λ° μƒ‰μƒ μ΅°μ •
  </Tabs.Tab>
  
  <Tabs.Tab>
    **Box Collision μ„¤μ •**
    
    1. **Add Component** β†’ **Box Collision**
    2. μ΄λ¦„: `TriggerArea`
    3. Details ν¨λ„:
       - **Box Extent**: `(100, 100, 150)`
       - **Collision Presets**: `OverlapOnlyPawn`
       - **Generate Overlap Events**: β…
    
    <Callout type="tip">
      νΈλ¦¬κ±° μμ—­μ€ ν”λ μ΄μ–΄κ°€ μ‰½κ² ν†µκ³Όν•  μ μλ„λ΅ μ¶©λ¶„ν ν¬κ² μ„¤μ •ν•μ„Έμ”.
    </Callout>
  </Tabs.Tab>
  
  <Tabs.Tab>
    **Point Light μ„¤μ •**
    
    1. **Add Component** β†’ **Point Light**
    2. μ΄λ¦„: `StatusLight`
    3. μ„¤μ •:
       - **Intensity**: `5000`
       - **Light Color**: Red (κΈ°λ³Έκ°’)
       - **Attenuation Radius**: `500`
    
    **Particle System**
    1. **Add Component** β†’ **Particle System**
    2. μ΄λ¦„: `ActivationEffect`
    3. Template: ν™μ„±ν™” μ΄ν™νΈ
    4. Auto Activate: β
  </Tabs.Tab>
</Tabs>

## μ²΄ν¬ν¬μΈνΈ λ³€μ μ„¤μ •

### λ³€μ λ©λ΅

| λ³€μλ… | νƒ€μ… | κΈ°λ³Έκ°’ | μ„¤λ… |
|--------|------|--------|------|
| `CheckpointID` | Integer | 0 | κ³ μ  ID |
| `bIsActivated` | Boolean | False | ν™μ„±ν™” μƒνƒ |
| `RespawnTransform` | Transform | Identity | λ¦¬μ¤ν° μ„μΉ |
| `ActivatedColor` | LinearColor | Green | ν™μ„±ν™” μƒ‰μƒ |
| `DeactivatedColor` | LinearColor | Red | λΉ„ν™μ„±ν™” μƒ‰μƒ |
| `bSaveProgress` | Boolean | True | μ§„ν–‰ μ €μ¥ μ—¬λ¶€ |
| `RequiredCheckpoints` | `Array<Integer>` | Empty | μ„ ν–‰ μ²΄ν¬ν¬μΈνΈ |

## μ²΄ν¬ν¬μΈνΈ μ΄λ²¤νΈ κ·Έλν”„

### BeginPlay - μ΄κΈ°ν™”

```plaintext
Event BeginPlay
β”β”€β”€ Set Checkpoint ID (from Details)
β”β”€β”€ Store Respawn Transform
β”‚   β””β”€β”€ Get Actor Transform + Offset
β”β”€β”€ Update Visual State
β”‚   β”β”€β”€ Set Light Color (Deactivated)
β”‚   β””β”€β”€ Set Material Parameter
β””β”€β”€ Register with Game Mode
```

### Overlap μ΄λ²¤νΈ

<CheckpointBlueprint />

<Callout type="info" emoji="π®">
  **μΈν„°λ™ν‹°λΈ λΈ”λ£¨ν”„λ¦°νΈ κΈ°λ¥**
  - π–±οΈ **λ…Έλ“ λ“λκ·Έ**: λ¨λ“  λ…Έλ“λ¥Ό μμ λ΅­κ² μ΄λ™ κ°€λ¥
  - π”— **μ—°κ²° μμ •**: ν•€μ„ λ“λκ·Έν•μ—¬ μƒλ΅μ΄ μ—°κ²° μƒμ„±
  - π“ **λ μ΄μ•„μ›ƒ λ³€κ²½**: μ°μΈ΅ μƒλ‹¨ λ²„νΌμΌλ΅ μλ™ μ •λ ¬
  - π” **μ¤ μΈ/μ•„μ›ƒ**: λ§μ°μ¤ ν  λλ” μ»¨νΈλ΅¤ μ‚¬μ©
  - π“ **Smart Layout**: λ…Έλ“ μλ™ μ •λ ¬ κΈ°λ¥
</Callout>

### ν™μ„±ν™” λ΅μ§

<Tabs items={['μ΅°κ±΄ ν™•μΈ', 'ν™μ„±ν™” μ²λ¦¬', 'μ‹κ° μ—…λ°μ΄νΈ']}>
  <Tabs.Tab>
    **ν™μ„±ν™” μ΅°κ±΄ ν™•μΈ**
    
    ```plaintext
    Check Activation Conditions
    β”β”€β”€ Branch (NOT bIsActivated)
    β”β”€β”€ Check Required Checkpoints
    β”‚   β”β”€β”€ ForEach (RequiredCheckpoints)
    β”‚   β””β”€β”€ Check if Activated in GameMode
    β””β”€β”€ All Conditions Met β†’ Activate
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **μ²΄ν¬ν¬μΈνΈ ν™μ„±ν™”**
    
    ```plaintext
    Activate Checkpoint
    β”β”€β”€ Set bIsActivated to True
    β”β”€β”€ Call GameMode.SetPlayerCheckpoint
    β”β”€β”€ Save Progress (optional)
    β”‚   β””β”€β”€ Save Game Object
    β””β”€β”€ Broadcast Activation Event
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **μ‹κ°μ  ν”Όλ“λ°±**
    
    ```plaintext
    Update Visual State
    β”β”€β”€ Set Light Color (Green)
    β”β”€β”€ Play Activation Particle
    β”β”€β”€ Play Activation Sound
    β”β”€β”€ Update Material
    β”‚   β””β”€β”€ Set Vector Parameter (EmissiveColor)
    β””β”€β”€ Optional: UI Notification
    ```
  </Tabs.Tab>
</Tabs>

## κ²μ„λ¨λ“ μ„¤μ •

### GM_JumpMap μƒμ„±

<Steps>
### κ²μ„λ¨λ“ λΈ”λ£¨ν”„λ¦°νΈ μƒμ„±

1. **Blueprint Class** β†’ **Game Mode Base**
2. μ΄λ¦„: `GM_JumpMap`
3. λ”λΈ”ν΄λ¦­ν•μ—¬ νΈμ§‘

### λ³€μ μ¶”κ°€

```plaintext
Variables:
β”β”€β”€ PlayerCheckpoints (`Map<PlayerController, BP_Checkpoint>`)
β”β”€β”€ AllCheckpoints (`Array<BP_Checkpoint>`)
β”β”€β”€ DefaultSpawnTransform (Transform)
β”β”€β”€ RespawnDelay (Float): 1.0
β””β”€β”€ LivesCount (Integer): -1 (λ¬΄μ ν•)
```
</Steps>

### κ²μ„λ¨λ“ ν•¨μλ“¤

#### SetPlayerCheckpoint ν•¨μ

```plaintext
Function SetPlayerCheckpoint
β”β”€β”€ Inputs: PlayerController, Checkpoint
β”β”€β”€ Add to PlayerCheckpoints Map
β”β”€β”€ Optional: Save to Save Game
β””β”€β”€ Broadcast OnCheckpointReached
```

#### RespawnPlayer ν•¨μ

<RespawnSystemBlueprint />

<Callout type="tip" emoji="π’΅">
  **λΈ”λ£¨ν”„λ¦°νΈ μƒνΈμ‘μ© ν**
  - λ…Έλ“λ¥Ό **λ”λΈ”ν΄λ¦­**ν•λ©΄ ν•΄λ‹Ή λ…Έλ“μ μƒμ„Έ μ •λ³΄λ¥Ό λ³Ό μ μμµλ‹λ‹¤
  - **Shift + λ“λκ·Έ**λ΅ μ—¬λ¬ λ…Έλ“λ¥Ό ν•λ²μ— μ„ νƒν•  μ μμµλ‹λ‹¤
  - **Delete** ν‚¤λ΅ μ„ νƒν• μ—°κ²°μ„ μ κ±°ν•  μ μμµλ‹λ‹¤
  - **Space** λ°”λ¥Ό λ„λ¥΄λ©΄ μ „μ²΄ κ·Έλν”„λ¥Ό λ³Ό μ μμµλ‹λ‹¤
</Callout>

#### GetLastCheckpoint ν•¨μ

```plaintext
Function GetLastCheckpoint
β”β”€β”€ Input: PlayerController
β”β”€β”€ Find in PlayerCheckpoints Map
β”β”€β”€ Branch (Found)
β”‚   β”β”€β”€ True: Return Checkpoint
β”‚   β””β”€β”€ False: Return nullptr
β””β”€β”€ Use Default Spawn if null
```

## Kill Volume κµ¬ν„

### BP_KillVolume μƒμ„±

<Steps>
### Kill Volume μ•΅ν„° μƒμ„±

1. **Blueprint Class** β†’ **Actor**
2. μ΄λ¦„: `BP_KillVolume`
3. ν° Box Collision μ¶”κ°€

### μ»΄ν¬λ„νΈ μ„¤μ •

```plaintext
BP_KillVolume (Actor)
β”β”€β”€ DefaultSceneRoot
β””β”€β”€ BoxCollision
    β”β”€β”€ BoxExtent: (10000, 10000, 100)
    β”β”€β”€ Collision: OverlapAllDynamic
    β””β”€β”€ Hidden in Game: True
```
</Steps>

### Kill Volume λ΅μ§

```plaintext
On Component Begin Overlap
β”β”€β”€ Cast to Character
β”β”€β”€ Get Player Controller
β”β”€β”€ Get Game Mode
β”β”€β”€ Cast to GM_JumpMap
β”β”€β”€ Call RespawnPlayer
β”‚   β”β”€β”€ Apply Damage (optional)
β”‚   β”β”€β”€ Play Death Effect
β”‚   β””β”€β”€ Delay (RespawnDelay)
β””β”€β”€ Teleport to Checkpoint
```

## μ§„ν–‰ μ €μ¥ μ‹μ¤ν…

### Save Game ν΄λμ¤

<Steps>
### Save Game μƒμ„±

1. **Blueprint Class** β†’ **Save Game**
2. μ΄λ¦„: `SG_JumpMapProgress`

### μ €μ¥ λ³€μ

```plaintext
SG_JumpMapProgress
β”β”€β”€ ActiveCheckpoints (`Array<Integer>`)
β”β”€β”€ CurrentCheckpointID (Integer)
β”β”€β”€ PlayerTransform (Transform)
β”β”€β”€ CompletionTime (Float)
β”β”€β”€ DeathCount (Integer)
β””β”€β”€ CollectedItems (`Array<String>`)
```
</Steps>

### μ €μ¥/λ¶λ¬μ¤κΈ° ν•¨μ

<Tabs items={['μ €μ¥ν•κΈ°', 'λ¶λ¬μ¤κΈ°', 'μλ™ μ €μ¥']}>
  <Tabs.Tab>
    **μ§„ν–‰ μƒν™© μ €μ¥**
    
    ```plaintext
    Function SaveProgress
    β”β”€β”€ Create Save Game Object
    β”β”€β”€ Set Active Checkpoints
    β”β”€β”€ Set Current Transform
    β”β”€β”€ Set Statistics
    β””β”€β”€ Save to Slot
        β”β”€β”€ Slot Name: "JumpMapSave"
        β””β”€β”€ User Index: 0
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **μ§„ν–‰ μƒν™© λ¶λ¬μ¤κΈ°**
    
    ```plaintext
    Function LoadProgress
    β”β”€β”€ Load from Slot
    β”β”€β”€ Cast to SG_JumpMapProgress
    β”β”€β”€ Restore Checkpoints
    β”β”€β”€ Teleport Player
    β””β”€β”€ Update UI
    ```
  </Tabs.Tab>
  
  <Tabs.Tab>
    **μλ™ μ €μ¥ μ„¤μ •**
    
    ```plaintext
    On Checkpoint Activated
    β”β”€β”€ Delay (0.5)
    β”β”€β”€ Call SaveProgress
    β””β”€β”€ Show Save Icon (UI)
    ```
  </Tabs.Tab>
</Tabs>

## UI ν”Όλ“λ°±

### μ²΄ν¬ν¬μΈνΈ UI μ„μ ―

<Steps>
### UI μ„μ ― μƒμ„±

1. **User Interface** β†’ **Widget Blueprint**
2. μ΄λ¦„: `WBP_CheckpointNotification`

### UI κµ¬μ΅°

```plaintext
Canvas Panel
β”β”€β”€ Border (λ°°κ²½)
β”β”€β”€ Horizontal Box
β”‚   β”β”€β”€ Image (μ²΄ν¬ν¬μΈνΈ μ•„μ΄μ½)
β”‚   β”β”€β”€ Text Block ("Checkpoint Reached!")
β”‚   β””β”€β”€ Text Block (μ²΄ν¬ν¬μΈνΈ λ²νΈ)
β””β”€β”€ Animation (Fade In/Out)
```
</Steps>

### UI ν‘μ‹ λ΅μ§

```plaintext
Show Checkpoint UI
β”β”€β”€ Create Widget
β”β”€β”€ Add to Viewport
β”β”€β”€ Play Animation (Fade In)
β”β”€β”€ Delay (3.0)
β”β”€β”€ Play Animation (Fade Out)
β””β”€β”€ Remove from Parent
```

## κ³ κΈ‰ κΈ°λ¥

### μ²΄ν¬ν¬μΈνΈ μμ„ κ°•μ 

```plaintext
Check Sequential Order
β”β”€β”€ Get Previous Checkpoint ID
β”β”€β”€ Branch (CurrentID = PreviousID + 1)
β”‚   β”β”€β”€ True: Allow Activation
β”‚   β””β”€β”€ False: Show "Complete Previous First"
```

### νƒ€μ„ μ–΄νƒ λ¨λ“

```plaintext
Time Attack System
β”β”€β”€ Start Timer on First Checkpoint
β”β”€β”€ Record Split Times
β”β”€β”€ Compare with Best Times
β””β”€β”€ Save Leaderboard
```

### μ²΄ν¬ν¬μΈνΈ κ°„ ν…”λ ν¬νΈ

<Callout type="tip" emoji="π€">
  λ””λ²„κ·Έ λ¨λ“μ—μ„ μ²΄ν¬ν¬μΈνΈ κ°„ λΉ λ¥Έ μ΄λ™μ„ μ„ν• κΈ°λ¥μ…λ‹λ‹¤.
</Callout>

```plaintext
Debug Teleport (ν‚¤ μ…λ ¥)
β”β”€β”€ Get All Checkpoints
β”β”€β”€ Find Next/Previous Active
β””β”€β”€ Teleport Player
```

## μ„±λ¥ μµμ ν™”

### μµμ ν™” ν

- **μ²΄ν¬ν¬μΈνΈ μ μ ν•**: λ λ²¨λ‹Ή 10-15κ° κ¶μ¥
- **Save Game μµμ ν™”**: ν•„μ λ°μ΄ν„°λ§ μ €μ¥
- **ν¨κ³Ό μ¬μ‚¬μ©**: νν‹°ν΄/μ‚¬μ΄λ“ ν’€λ§
- **κ±°λ¦¬ κΈ°λ° ν™μ„±ν™”**: LOD μ‹μ¤ν… ν™μ©

## λ¬Έμ  ν•΄κ²°

### μ²΄ν¬ν¬μΈνΈκ°€ ν™μ„±ν™”λμ§€ μ•μ

1. Collision μ„¤μ • ν™•μΈ
2. Overlap Events ν™μ„±ν™” ν™•μΈ
3. κ²μ„λ¨λ“ μ—°κ²° ν™•μΈ
4. μ„ ν–‰ μ²΄ν¬ν¬μΈνΈ μ΅°κ±΄ ν™•μΈ

### λ¦¬μ¤ν°μ΄ μ‘λ™ν•μ§€ μ•μ

1. Kill Volume μ„μΉ ν™•μΈ
2. κ²μ„λ¨λ“κ°€ μ¬λ°”λ¥΄κ² μ„¤μ •λμ—λ”μ§€ ν™•μΈ
3. μ²΄ν¬ν¬μΈνΈ Transform μ ν¨μ„± ν™•μΈ

### μ €μ¥μ΄ λμ§€ μ•μ

1. Save Game μ¬λ΅― μ΄λ¦„ ν™•μΈ
2. νμΌ μ“°κΈ° κ¶ν• ν™•μΈ
3. Save Game κ°μ²΄ μ ν¨μ„± ν™•μΈ

## λ‹¤μ λ‹¨κ³„

<Callout type="success" emoji="π">
  μ²΄ν¬ν¬μΈνΈ μ‹μ¤ν…μ„ μ™„μ„±ν–μµλ‹λ‹¤!
  μ΄μ  μ™„μ „ν• μ ν”„λ§µ κ²μ„μ„ λ§λ“¤ μ μμµλ‹λ‹¤.
</Callout>

μ¶”κ°€ κΈ°λ¥ μ•„μ΄λ””μ–΄:
- π† λ¦¬λ”λ³΄λ“ μ‹μ¤ν…
- β±οΈ μ¤ν”Όλ“λ° λ¨λ“
- π® μ²΄ν¬ν¬μΈνΈ κ°„ ν¬ν„Έ
- π’Ύ ν΄λΌμ°λ“ μ €μ¥

[μ ν”„λ§µ κ°μ”λ΅ λμ•„κ°€κΈ° β†’](/unreal-engine-5/jump-map)